{%extends 'base.html' %}
{% load static %}

{% block title %}Key{% endblock %}

{% block content %}
  <h1>Key</h1>

  {{ form.non_field_errors }}
  {% for field in form %}
    {% if field.errors %}
      <p>{{ field.label }} has the following errors:</p>
      <ul>
      {% for error in field.errors %}
        <li>{{ error }}</li>
      {% endfor %}
      </ul>
    {% endif %}
  {% endfor %}

  <div class="all_keys_container">
    {% for key in key_context %}
      <p>{{ key.key_name }}: {{ key.description }}</p>
    {% endfor %}
  </div>

  {% if form %}
    <div class="form_container" id="key_submit">
      <form id="add_key_form" action="#" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <input id="key_submit" type="submit" value="Add Key" name="Add Key">
      </form>
    </div>
  {% else %}
    <div class="form_container" id="key_submit">
      <form id="add_key_form" action="#" method="get">
        {% csrf_token %}
        {{ form.as_p }}
        <input id="key_submit" type="submit" value="Add Key" name="Add Key">
      </form>
    </div>
  {% endif %}
{% endblock %}
